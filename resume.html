<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.0/css/swiper.min.css">
    <script src="https://at.alicdn.com/t/font_1052437_mw1a4x47yom.js"></script>
    <title>My Resume</title>
</head>

<body>
    <div id="welcome" class="welcome welcomeactive">
        <div class="loadingpage"></div>
    </div>
    <header>
        <div class="head clearfix" id="topHead">
            <div class="head-inner">
                <div class="logo">
                    <span>RS</span>
                    <span>card</span>
                </div>
                <nav class="navBar">
                    <ul class="clearfix">
                        <li><a href="#info">关于</a></li>
                        <li><a href="#skill">技能</a></li>
                        <li><a href="#portfolio">作品</a>
                            <!-- li和a之间如果有回车则li的childNode[0]不是a，而是#text空格 -->
                            <!-- <ul class="clearfix" id="NavBarlist">
                                <li class="subli">作品1</li>
                                <li class="subli">作品2</li>
                                <li class="subli">作品3</li>
                            </ul> -->
                        </li>
                        <!-- <li><a href="#blog">博客</a>
                            <ul class="clearfix">
                                    <li class="subli">博客1</li>
                                    <li class="subli">博客2</li>
                                    <li class="subli">博客3</li>
                                </ul>
                            </li> -->
                        <!-- <li><a href="#calander">日历</a></li> -->
                        <!-- <li><a href="#number">联系方式</a></li> -->
                        <li><a href="#msgbox">留言</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="banner">
            <div class="mask"></div>
        </div>
    </header>
    <div data-x class="centerCard" id="info">
        <div class="infoCard clearfix">
            <div class="pic">
                <img src="img/photo.jpg" alt="照片" width="299" height="347">
            </div>
            <div class="rightInfo">
                <span class="hello">
                    Hello
                    <span class="triangle"></span>
                </span>
                <div class="name">
                    <h1>李蜀</h1>
                    <h3>前端开发工程师</h3>
                </div>
                <hr>
                <!-- <div class="centerBottom"> -->
                <dl class="infoItem">
                    <dt>年龄</dt>
                    <dd>22</dd>
                    <dt>所在城市</dt>
                    <dd>上海</dd>
                    <dt>邮箱</dt>
                    <dd>18861262117@qq.com</dd>
                    <dt>手机</dt>
                    <dd>18861262117</dd>
                </dl>
                <!-- </div> -->
            </div>
        </div>
        <footer class="footer">
            <a href="https://github.com/ViaLee" target="_blank"><svg class="icon" aria-hidden="true">
                    <use xlink:href="#icon-githublogo"></use>
                </svg></a>
            <!-- <a href="https://weibo.com/u/5725507200" target="_blank">
                <svg class="icon" aria-hidden="true">
                    <use xlink:href="#icon-weibo"></use>
                </svg></a> -->
            <a href="https://www.jianshu.com/u/4cb9ae03a357" target="_blank">
                <svg class="icon" aria-hidden="true">
                    <use xlink:href="#icon-jianshu"></use>
                </svg></a>
        </footer>
    </div>
    <section class="moreInfo">
        <!-- <a href="img/李蜀.pdf" target="_blank" download> -->
        <div class="download">
            <!-- <span> -->
            <a href="img/李蜀.pdf" target="_blank" download>
                <div>下载
                    PDF
                    简历
                </div>
            </a>
            <!-- </span> -->
        </div>
        <!-- <p>一段其他信息一段其他信息一段其他信息一段其他信息一段其他信息一段其他信息一段其他信息一段其他信息一段其他信息一段其他信息一段其他信息一段其他信息一段其他信息</p> -->
    </section>
    <section data-x class="skillPart" id="skill">
        <div class="skillTitle">技能</div>
        <div class="skill">
            <!-- <div class="skillContent"> -->
            <div class="skillProcess">
                <ol class="clearfix">
                    <li>
                        <span>HTML5&amp;CSS3</span>
                        <div class="processLine" style="border-left-width:360px;"></div>
                    </li>
                    <li>
                        <span>JavaScript</span>
                        <div class="processLine" style="border-left-width:330px;"></div>
                    </li>
                    <li>
                        <span>jQuery</span>
                        <div class="processLine" style="border-left-width:200px;"></div>
                    </li>
                    <li>
                        <span>Vue.js</span>
                        <div class="processLine" style="border-left-width:190px;"></div>
                    </li>
                    <li>
                        <span>Node.js</span>
                        <div class="processLine" style="border-left-width:120px;"></div>
                    </li>
                    <!-- <li>
                        <span>Node.js</span>
                        <div class="processLine" style="border-left-width:80px;"></div>
                    </li> -->
                </ol>
            </div>
            <!-- </div> -->
        </div>
    </section>
    <section data-x class="portfolioPart" id="portfolio">
        <div class="skillTitle">作品集</div>
        <div class="portfolio clearfix">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <a href="https://vialee.github.io/start/index.html" target="blank">
                            <img src="img/one.jpg" alt="导航页" width="752px" height="477.6px">
                        </a>
                    </div>
                    <div class="swiper-slide">
                            <a href="https://github.com/ViaLee/Note" target="blank">
                                <img src="img/note.png" alt="在线便利贴" width="752px" height="477.6px">
                            </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="https://vialee.github.io/painting-board/index.html" target="blank">
                            <img src="img/two.png" alt="在线简易画板" width="752px" height="477.6px">
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="https://vialee.github.io/My-FM/index.html" target="blank">
                            <img src="img/fm.png" alt="个人FM" width="752px" height="477.6px">
                        </a>
                    </div>
                    <div class="swiper-slide">
                            <a href="https://vialee.github.io/looplay-demo/index3.html" target="blank">
                                <img src="img/three.png" alt="轮播demo" width="752px" height="477.6px">
                            </a>
                    </div>
                    <!-- <div class="swiper-slide">Slide 4</div>
                          <div class="swiper-slide">Slide 5</div>
                          <div class="swiper-slide">Slide 6</div>
                          <div class="swiper-slide">Slide 7</div>
                          <div class="swiper-slide">Slide 8</div>
                          <div class="swiper-slide">Slide 9</div>
                          <div class="swiper-slide">Slide 10</div> -->
                </div>
                <!-- Add Pagination -->
                <div class="swiper-pagination"></div>
                <!-- Add Arrows -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>

        </div>
    </section>
    <section data-x class="msgbox" id="msgbox">
        <h3 style="padding-left:26px;">留言板</h1>
            <div id="messageBoard">
                <form action="" id="msgForm">
                    <textarea type="text" id="msgtext"></textarea>
                    <button type="submit" id="sbmbtn">提交</button>
                </form>
            </div>
            <h5 style="margin:3px 26px;border-bottom:0.2px solid #59929c;">留言：</h5>
            <div id="showmsg"></div>
    </section>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.3.0/Tween.js"></script>
    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.0/js/swiper.min.js"></script>

    <script>
        var swiper = new Swiper('.swiper-container', {
            slidesPerView: 1,
            spaceBetween: 30,
            loop: true,
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@3.12.0/dist/av-min.js"></script>
    <script>
        !function () {
            var model = {
                init: function () {
                    var APP_ID = 'eGFqiw6Kb6mdh9jhzO2nKt08-gzGzoHsz';
                    var APP_KEY = '08IVPWpI6XatCROe74U4F8V2';
                    AV.init({
                        appId: APP_ID,
                        appKey: APP_KEY
                    });
                },
                fetch: function () {
                    var query = new AV.Query('msg')
                    return query.find()
                },
                save: function () {
                    var msg = AV.Object.extend('msg');
                    var query = new AV.Query('msg')
                    var msgobj = new msg();
                    return msgobj.save({
                        'words': msgtext.value
                    })
                }
            }

            var controller = {
                model: null,
                init: function (model) {
                    this.model = model
                    this.model.init()
                    this.showMsgContent()
                    this.bindEvents()
                },
                showMsgContent: function () {
                    this.model.fetch().then(function (msg) {
                        var msgContent = msg.map(function (value, key) {
                            return value.attributes.words
                        })
                        console.log(showmsg.textContent);
                        for (key in msgContent) {
                            console.log(msgContent[key])
                            var row = document.createElement('div')
                            var span = document.createElement('span')
                            var div = document.createElement('div')
                            var loft = parseInt(key, 10) + 1
                            span.innerText = '第' + loft + '楼'
                            row.innerText = msgContent[key]
                            showmsg.appendChild(div)
                            div.appendChild(span)
                            div.appendChild(row)
                            console.log(div)
                        }
                    }).then(function () {
                        controller.reverseDiv()
                    })
                },
                reverseDiv: function (msg) {
                    console.log('qwe')
                    var list = document.querySelectorAll('#showmsg > div');
                    var str = "";
                    console.log(list)
                    for (var i = list.length - 1; i >= 0; i--) {
                        str += "<div>" + list[i].innerHTML + "</div>";
                    }
                    showmsg.innerHTML = str;
                },
                bindEvents: function () {
                    msgForm.addEventListener('submit', function (e) {
                        e.preventDefault()
                        model.save().then(function (object) {
                            location.reload()  //页面刷新
                            // var row = document.createElement('div')
                            // var span = document.createElement('span')
                            // var div = document.createElement('div')
                            // console.log(object);
                            // var loft = msgContent.length+1
                            // span.innerText = '第'+loft+'楼'
                            // row.innerText = `${object.attributes.words}`
                            // div.appendChild(span)
                            // div.appendChild(row)
                            // showmsg.appendChild(div)
                        })
                    })
                }
            }
            controller.init(model)
        }.call()
    </script>
</body>

</html>